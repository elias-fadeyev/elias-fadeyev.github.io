!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){var s,n,r={},a=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,l=0,c=[],d=i(5);function p(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=r[s.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](s.parts[a]);for(;a<s.parts.length;a++)n.parts.push(y(s.parts[a],e))}else{var o=[];for(a=0;a<s.parts.length;a++)o.push(y(s.parts[a],e));r[s.id]={id:s.id,refs:1,parts:o}}}}function m(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],a=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};s[a]?s[a].parts.push(o):i.push(s[a]={id:a,parts:[o]})}return i}function u(t,e){var i=o(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=c[c.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=o(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,n)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),u(t,e),e}function v(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function y(t,e){var i,s,n,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var a=l++;i=h||(h=g(e)),s=P.bind(null,i,a,!1),n=P.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),u(t,e),e}(e),s=function(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=d(s));n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([s],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}.bind(null,i,e),n=function(){f(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute("media",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){f(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=m(t,e);return p(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var a=i[n];(o=r[a.id]).refs--,s.push(o)}t&&p(m(t,e),e);for(n=0;n<s.length;n++){var o;if(0===(o=s[n]).refs){for(var h=0;h<o.parts.length;h++)o.parts[h]();delete r[o.id]}}}};var b,S=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function P(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=S(e,n);else{var r=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(a=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[i].concat(r).concat([n]).join("\n")}var a;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(s[r]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"==typeof a[0]&&s[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s,n,r,a=0,o=1,h=!0){this.canvas=t,this.canvasContext=this.canvas.getContext("2d"),this.url=e,this.imageWidth=i,this.imageHeight=s,this.imagePosition=n,this.spritePosition=r,this.imageReverse=!1,this.framesPerSecond=15,this.startWaitingTime=Date.now(),this.animationDelay=a,this.animationTime=0,this.lastRenderingTime=Date.now(),this.framesAmount=o,this.spriteDirectionReverse=!1,this.spriteDirectionChangeable=!1,this.spriteRepeat=h}renderImage(){const t=new Image;t.src=this.url,this.delayInterval=this.getTimeInterval(this.startWaitingTime,Date.now()),this.isAnimationStarted()&&this.isFramesCycling()&&(this.animationTime=this.getTimeInterval(this.lastRenderingTime+this.animationDelay,Date.now()),this.setSpritePosition()),this.canvasContext.save(),this.imageReverse&&this.canvasContext.scale(-1,1),this.canvasContext.drawImage(t,this.spritePosition[0],this.spritePosition[1],this.state.spriteSize[0],this.state.spriteSize[1],this.getImageXPosition(),this.imagePosition[1],this.imageWidth,this.imageHeight),this.canvasContext.restore()}isAnimationStarted(){return this.delayInterval>this.animationDelay}isImageReverse(t){return 0===t?this.imageReverse:t<0}getImageXPosition(){return this.imageReverse?-this.imagePosition[0]-this.state.imageSize[0]:this.imagePosition[0]}setImagePosition(t,e,i,s){this.imagePosition[0]+=t,this.imagePosition[1]+=e,i&&(this.imagePosition[0]<0?this.imagePosition[0]=0:this.imagePosition[0]+this.imageWidth>i&&(this.imagePosition[0]=i-this.imageWidth),this.imagePosition[1]<0?this.imagePosition[1]=0:this.imagePosition[1]+this.imageHeight>s&&(this.imagePosition[1]=s-this.imageHeight))}setSpritePosition(){this.spriteDirectionReverse?this.spritePosition[0]=this.state.spriteSize[0]*(this.framesAmount-Math.ceil(this.framesPerSecond*this.animationTime/1e3)):this.spritePosition[0]=this.state.spriteSize[0]*Math.floor(this.framesPerSecond*this.animationTime/1e3),this.isFramesCycleEnded()&&this.spriteRepeat&&(!this.spriteDirectionReverse&&this.spriteDirectionChangeable||this.spriteDirectionReverse&&!this.spriteDirectionChangeable?this.spritePosition[0]=this.state.spriteSize[0]*(this.framesAmount-1):this.spritePosition[0]=0,this.spriteDirectionChangeable&&this.changeSpriteDirection(),this.startWaitingTime=Date.now(),this.lastRenderingTime=Date.now())}isFramesCycling(){return this.framesAmount>1}isFramesCycleEnded(){return this.spritePosition[0]>=this.state.spriteSize[0]*this.framesAmount||this.spritePosition[0]<0}getTimeInterval(t,e){return e-t}changeSpriteDirection(){this.spriteDirectionReverse=!this.spriteDirectionReverse}}class n extends s{constructor(t,e,i,s,n,r,a,o,h,l,c,d,p,m){super(s,n,h,l,r,d,c,p,m),this.name=t,this.appearance=e,this.state=a,this.stateAction=o,this.healthPoints=i}setState(t){this.stateAction!==t.action&&(this.stateAction=t.action,this.spritePosition=t.firstSpritePosition.slice(),this.framesAmount=t.framesAmount,this.imageWidth=t.imageSize[0],this.imageHeight=t.imageSize[1],this.animationDelay=t.animationDelay,this.spriteRepeat=t.repeat,this.spriteRepeat?this.framesPerSecond=15:this.framesPerSecond=8)}setSpritePosition(){super.setSpritePosition(),this.isFramesCycleEnded()&&!this.spriteRepeat&&this.setState("stay")}setHealthPoints(t){this.healthPoints+=t,this.healthPoints<0?this.healthPoints=0:this.healthPoints>this.maxHealth&&(this.healthPoints=this.maxHealth)}}const r=new Map([["stay",{action:"stay",imageSize:[65,95],spriteSize:[125,185],firstSpritePosition:[0,0],framesAmount:7,animationDelay:2e3,repeat:!0}],["run",{action:"run",imageSize:[75,95],spriteSize:[145,185],firstSpritePosition:[0,185],framesAmount:14,animationDelay:0,repeat:!0}],["aim",{action:"aim",imageSize:[65,95],spriteSize:[130,185],firstSpritePosition:[0,370],framesAmount:12,animationDelay:0,repeat:!0}],["hit",{action:"hit",imageSize:[95,95],spriteSize:[185,185],firstSpritePosition:[0,555],framesAmount:8,animationDelay:0,repeat:!1}],["miss",{action:"miss",imageSize:[95,95],spriteSize:[185,185],firstSpritePosition:[0,740],framesAmount:12,animationDelay:0,repeat:!1}]]),a=new Map([["firstName",["Злой","Коварный","Хитрый"]],["surname",["Разбойник","Охотник","Пират"]],["lastName",["Кряк","Шмяк","Рекс","Кекс"]]]),o=new Map([["stay",{action:"stay",imageSize:[75,75],spriteSize:[150,150],animationDelay:1500,repeat:!0}]]),h=new Map([["head",[{firstSpritePosition:[0,0],framesAmount:4},{firstSpritePosition:[0,150],framesAmount:2},{firstSpritePosition:[0,300],framesAmount:3},{firstSpritePosition:[0,450],framesAmount:3}]],["body",[{firstSpritePosition:[0,600],framesAmount:1},{firstSpritePosition:[150,600],framesAmount:1},{firstSpritePosition:[300,600],framesAmount:1}]],["legs",[{firstSpritePosition:[0,750],framesAmount:1},{firstSpritePosition:[150,750],framesAmount:1},{firstSpritePosition:[300,750],framesAmount:1}]],["weapon",[{firstSpritePosition:[0,900],framesAmount:1},{firstSpritePosition:[150,900],framesAmount:1},{firstSpritePosition:[300,900],framesAmount:1}]]]);class l extends n{constructor(...t){super(...t),this.speed=6,this.pressedButtons={up:!1,right:!1,down:!1,left:!1,amount:0},this.maxHealth=100}renderImage(){if(this.pressedButtons.amount>0){const t=this.getImageShiftX(),e=this.getImageShiftY();this.imageReverse=this.isImageReverse(t),"run"!==this.stateAction&&this.setState("run");const i=this.canvas.width,s=this.canvas.height;this.setImagePosition(t,e,i,s)}super.renderImage()}handleInput(t){const e=t.keyCode,i=this.getButtonDirection(e);37!==e&&38!==e&&39!==e&&40!==e||this.addPressedButtons(i)}getButtonDirection(t){return 37===t?"left":38===t?"up":39===t?"right":40===t?"down":void 0}addPressedButtons(t){this.pressedButtons[t]||(this.pressedButtons[t]=!0,this.pressedButtons.amount+=1)}getImageShiftX(){let t=this.speed;return this.pressedButtons.left&&(t=-t),this.pressedButtons.left||this.pressedButtons.right?this.pressedButtons.up||this.pressedButtons.down?t/Math.sqrt(2):t:0}getImageShiftY(){let t=this.speed;return this.pressedButtons.up&&(t=-t),this.pressedButtons.up||this.pressedButtons.down?this.pressedButtons.left||this.pressedButtons.right?t/Math.sqrt(2):t:0}stopHandleInput(t){const e=t.keyCode,i=this.getButtonDirection(e);37!==e&&38!==e&&39!==e&&40!==e||(this.setState("stay"),this.removePressedButtons(i))}removePressedButtons(t){this.pressedButtons.amount-=1,this.pressedButtons[t]=!1}clearCache(){this.pressedButtons.up=!1,this.pressedButtons.right=!1,this.pressedButtons.down=!1,this.pressedButtons.left=!1,this.pressedButtons.amount=0}setState(t){this.state=r.get(t),super.setState(this.state)}}class c extends n{constructor(...t){super(...t),this.imageReverse=!0,this.spriteDirectionChangeable=!0,this.maxHealth=this.healthPoints}getFullName(){return`${this.name.get("firstName")} ${this.name.get("surname")} ${this.name.get("lastName")}`}renderImage(t,e){this.renderBodyParts(t,e,"legs",0,0),this.renderBodyParts(t,e,"body",0,-23),this.renderBodyParts(t,e,"weapon",-35,-33),this.renderBodyParts(t,e,"head",0,-57)}renderBodyParts(t,e,i,s,n){const r=this.appearance.get(i);this.spritePosition=r.firstSpritePosition,this.framesAmount=r.framesAmount,this.setImagePosition(s,n),super.renderImage(t,e),this.setImagePosition(-s,-n)}}function d(t,e=0){return e+Math.floor(Math.random()*(t-e))}function p(t){const e=new Map;return t.forEach((t,i)=>{e.set(i,t[d(t.length)])}),e}class m{constructor(t,e,i){this.canvas=t,this.canvasContext=this.canvas.getContext("2d"),this.player=e,this.monster=i,this.hasHandlers=!1}render(){this.canvasContext.fillStyle="#aaa",this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.player.imagePosition[1]+this.player.imageHeight<this.monster.imagePosition[1]+50?(this.player.renderImage(this.canvas,this.canvasContext),this.monster.renderImage(this.canvas,this.canvasContext)):(this.monster.renderImage(this.canvas,this.canvasContext),this.player.renderImage(this.canvas,this.canvasContext))}}i(7);class u{constructor(t,e=[]){this.heading=t,this.links=e}addHandlers(){document.addEventListener("click",this.selectElement)}removeHandlers(){document.removeEventListener("click",this.selectElement)}bindThis(){this.selectElement=this.selectElement.bind(this)}selectElement(t){const e=t.target;e.closest(".nav-item")&&(this.targetId=e.dataset.id,this.removeHandlers(),this.component.remove())}getTargetId(){return this.targetId}isSelected(){return!!this.targetId}render(){const t=this.createElement("div","nav"),e=this.createElement("h2","nav-header",this.heading),i=this.createElement("ul","nav-list");this.links.forEach((t,e)=>{const s=this.createElement("li","nav-item",t);s.innerHTML=t,s.setAttribute("data-id",e+1),i.appendChild(s)}),t.appendChild(e),t.appendChild(i),this.component.appendChild(t),document.body.appendChild(this.component)}createElement(t,e,i){const s=document.createElement(t);return s.classList.add(e),i&&(s.innerHTML=i),s}init(){this.component=this.createElement("div","nav-wrapper"),this.bindThis(),this.addHandlers(),this.render()}}class f extends m{addHandlers(){document.addEventListener("keydown",this.player.handleInput),document.addEventListener("keyup",this.player.stopHandleInput),this.hasHandlers=!0}bindThis(){this.player.handleInput=this.player.handleInput.bind(this.player),this.player.stopHandleInput=this.player.stopHandleInput.bind(this.player)}removeHandlers(){document.removeEventListener("keydown",this.player.handleInput),document.removeEventListener("keyup",this.player.stopHandleInput),this.hasHandlers=!1,this.player.clearCache()}isFinished(){const t=this.player.imagePosition[0],e=this.player.imagePosition[0]+this.player.imageWidth,i=this.player.imagePosition[1],s=this.player.imagePosition[1]+this.player.imageHeight,n=this.monster.imagePosition[0],r=this.monster.imagePosition[0]+this.monster.imageWidth,a=this.monster.imagePosition[1],o=this.monster.imagePosition[1]+this.monster.imageHeight;return!(e<n||t>r||i>o-100||s<a+30)}getNext(){return new v(this.canvas,this.player,this.monster)}init(){this.bindThis(),this.addHandlers()}}i(4);class g{createAllElements(){this.component=this.createElement("div","task-block"),this.wrapper=this.createElement("div","task-wrapper"),this.header=this.createElement("h2","task-header","Реши задачу:"),this.text=this.createElement("div","task-text",`${this.firstNumber} ${this.operator} ${this.secondNumber} = `),this.form=this.createElement("form","solution"),this.input=this.createElement("input","solution-input")}createElement(t,e,i){const s=document.createElement(t);return s.classList.add(e),i&&(s.innerHTML=i),s}addHandlers(){this.form.addEventListener("submit",this.submitAnswer.bind(this)),this.form.addEventListener("keydown",this.enterSolution.bind(this))}submitAnswer(t){if(""===this.input.value?this.solution=NaN:this.solution=Number(this.input.value),this.isCorrect()){this.input.classList.add("correct");const t=this.createElement("div","solution-correct","Правильно!");this.component.appendChild(t),this.input.setAttribute("disabled","disabled")}else{this.input.classList.add("wrong");const t=this.createElement("div","solution-wrong",`Неправильно! Правильный ответ: ${this.correctSolution}`);this.component.appendChild(t),this.input.setAttribute("disabled","disabled")}t.preventDefault()}enterSolution(t){const e=t.keyCode;46===e||8===e||13===e||27===e||e>=35&&e<=39||(e<48||e>57)&&(e<96||e>105)&&t.preventDefault()}render(){this.createAllElements(),this.form.appendChild(this.input),this.text.appendChild(this.form),this.component.appendChild(this.header),this.component.appendChild(this.text),this.wrapper.appendChild(this.component),document.body.appendChild(this.wrapper),this.input.focus(),this.addHandlers()}isCorrect(){return this.solution===this.correctSolution}isSolved(){return"number"==typeof this.solution}remove(){this.wrapper.remove()}init(){const t=["+","-","x","&#247;"];this.operator=t[d(t.length)],"+"===this.operator?(this.firstNumber=d(200),this.secondNumber=d(200),this.correctSolution=this.firstNumber+this.secondNumber):"-"===this.operator?(this.firstNumber=d(200),this.secondNumber=d(this.firstNumber),this.correctSolution=this.firstNumber-this.secondNumber):"x"===this.operator?(this.firstNumber=d(20),this.secondNumber=d(20),this.correctSolution=this.firstNumber*this.secondNumber):(this.secondNumber=d(20,1),this.firstNumber=this.secondNumber*d(20),this.correctSolution=this.firstNumber/this.secondNumber),this.render()}}class v extends m{constructor(t,e,i){super(t,e,i),this.isPlayerTurn=!0,this.isEnemyTurn=!1}render(){super.render();const t=this.canvas.width/2-100;this.renderText(this.player.name,55,50,t-10),this.renderHealthScale(this.player.healthPoints,t,50,70,this.player.maxHealth),this.renderText(this.player.healthPoints,55,90,t-10),this.renderText(this.monster.getFullName(),this.canvas.width-55,50,t-10,"#fff","right"),this.renderHealthScale(this.monster.healthPoints,t,this.canvas.width-t-50,70,this.monster.maxHealth),this.renderText(this.monster.healthPoints,this.canvas.width-55,90,t-10,"#fff","right"),this.isPlayerTurn?(this.player.setState("aim"),this.spellNav?this.spellNav.isSelected()&&this.renderTaskWindow():this.renderSpellNav(),this.task&&this.task.isSolved()&&(this.isPlayerTurn=!1,setTimeout(this.renderAttack.bind(this),1e3))):this.isEnemyTurn&&(this.isEnemyTurn=!1,setTimeout(this.renderEnemyAttack.bind(this),1e3))}renderText(t,e,i,s,n="#fff",r="left",a="20px serif"){this.canvasContext.font=a,this.canvasContext.fillStyle=n,this.canvasContext.textAlign=r,this.canvasContext.fillText(t,e,i,s)}renderHealthScale(t,e,i,s,n){this.canvasContext.fillStyle="#f00",this.canvasContext.fillRect(i,s,e,30),this.canvasContext.fillStyle="#080",this.canvasContext.fillRect(i,s,e*t/n,30)}renderSpellNav(){this.spellNav=new u("Выбери заклинание:",["Удар","Лечение"]),this.spellNav.init()}renderTaskWindow(){this.task||(this.task=new g,this.task.init())}renderAttack(){if(this.task.remove(),this.task.isCorrect()){this.player.setState("hit");const t=d(60,30);"2"===this.spellNav.targetId?this.player.setHealthPoints(t):this.monster.setHealthPoints(-t)}else this.player.setState("miss");this.task=null,this.spellNav=null,0!==this.monster.healthPoints&&(this.isEnemyTurn=!0)}renderEnemyAttack(){const t=d(30,10);this.player.setHealthPoints(-t),0!==this.player.healthPoints&&(this.isPlayerTurn=!0)}isFinished(){return 0===this.monster.healthPoints||0===this.player.healthPoints}getNext(){console.log("бой окончен")}init(){this.player.imagePosition=[150,this.canvas.height/2],this.monster.imagePosition=[this.canvas.width-200,this.canvas.height/2+47]}}class y{constructor(t,e){this.canvas=t,this.player=e}render(){this.mode.render(),this.mode.isFinished()&&(this.mode.hasHandlers&&this.mode.removeHandlers(),this.mode=this.mode.getNext(),this.mode.init()),window.requestAnimationFrame(this.render.bind(this))}init(){const t=[this.canvas.width-d(300,200),this.canvas.height-d(200,150)],e=p(h),i=d(150,100),s=o.get("stay"),n=s.imageSize[0],r=s.imageSize[1];this.monster=new c(p(a),e,i,this.canvas,"images/enemy-sprite.png",t,s,s.action,n,r,s.animationDelay,s.repeat),this.mode=new f(this.canvas,this.player,this.monster),this.mode.init(),this.render()}}const b=new Image;b.addEventListener("load",()=>{new class{constructor(t){this.canvas=t,this.canvasContext=t.getContext("2d")}startGame(){const t=[100,this.canvas.height/2],e=r.get("stay");this.player=new l("Hero","Scrooge",100,this.canvas,"images/hero-sprite.png",t,e,e.action,e.imageSize[0],e.imageSize[1],e.animationDelay,e.firstSpritePosition,e.framesAmount,e.animationDelay,e.repeat),this.stage=new y(this.canvas,this.player),this.stage.init()}init(){this.startGame()}}(document.querySelector("#gameCanvas")).init()}),b.src="images/hero-sprite.png"},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".task-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n  background-color: rgba(100, 100, 100, 0.4);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.task-block {\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.task-header {\r\n  font-size: 30px;\r\n  padding: 20px;\r\n  color: gold;\r\n}\r\n\r\n.task-text {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: gold;\r\n  font-size: 20px;\r\n}\r\n\r\n.solution-input {\r\n  width: 50px;\r\n  margin: 0 10px;\r\n  text-align: center;\r\n  border: none;\r\n  font-size: 18px;\r\n}\r\n\r\n.solution-correct,\r\n.solution-wrong {\r\n  position: absolute;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  top: 100%;\r\n  padding: 10px;\r\n}\r\n\r\n.solution-correct {\r\n  color:#080;\r\n}\r\n\r\n.solution-wrong {\r\n  color:#d00;\r\n}\r\n\r\n.correct {\r\n  background-color: #080;\r\n  color: #fff;\r\n}\r\n\r\n.wrong {\r\n  background-color: #d00;\r\n  color: #fff;\r\n}\r\n",""])},function(t,e,i){var s=i(3);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(0)(s,n);s.locals&&(t.exports=s.locals)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".nav-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n  background-color: rgba(100, 100, 100, 0.4);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.nav-header {\r\n  font-size: 30px;\r\n  padding: 20px;\r\n  color: gold;\r\n}\r\n\r\n.nav-list {\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: gold;\r\n  font-size: 20px;\r\n}\r\n\r\n.nav-item {\r\n  padding: 10px 30px;\r\n}\r\n\r\n.nav-item:hover {\r\n  cursor: pointer;\r\n}",""])},function(t,e,i){var s=i(6);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(0)(s,n);s.locals&&(t.exports=s.locals)}]);
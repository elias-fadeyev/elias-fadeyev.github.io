{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class i{constructor(e,t,n,i,s){this.name=e,this.appearance=t,this.url=n,this.imagePosition=i,this.state=s}renderImage(e){const t=new Image;t.addEventListener(\"load\",()=>{e.drawImage(t,this.slicePosition[0],this.slicePosition[1],this.sliceWidth,this.sliceHeight,this.imagePosition[0],this.imagePosition[1],this.imageWidth,this.imageHeight)}),t.src=this.url}}class s extends i{move(e){39===e.keyCode?this.imagePosition[0]+=10:37===e.keyCode&&(this.imagePosition[0]-=10)}}class a extends i{getFullName(){return`${this.name.get(\"firstName\")} ${this.name.get(\"surname\")} ${this.name.get(\"lastName\")}`}}const r=new Map([[\"firstName\",[\"Злой\",\"Коварный\",\"Хитрый\"]],[\"surname\",[\"Разбойник\",\"Охотник\",\"Пират\"]],[\"lastName\",[\"Джек\",\"Макс\",\"Рекс\",\"Кекс\"]]]),o=new Map([[\"head\",[\"head1\",\"head2\",\"head3\"]],[\"body\",[\"body1\",\"body2\",\"body3\"]],[\"legs\",[\"legs1\",\"legs2\",\"legs3\"]],[\"weapon\",[\"axe\",\"sword\",\"stick\"]]]),d=new Map([[\"stay\",{action:\"stay\",imageSize:[60,90],sliceSize:[120,180],sliceFirstPosition:[1,1]}],[\"run\",{action:\"run\",imageSize:[75,95],sliceSize:[145,185],sliceFirstPosition:[1,2740]}]]);new class{constructor(e){this.canvas=e,this.canvasContext=e.getContext(\"2d\")}getRandomNumber(e){return Math.floor(Math.random()*e)}getRandomData(e){const t=new Map;return e.forEach((e,n)=>{t.set(n,e[this.getRandomNumber(e.length)])}),t}render(){this.player.renderImage(this.canvasContext),requestAnimationFrame(this.render.bind(this))}init(){this.player=new s(\"Hero\",\"Scrooge\",\"images/sprite.png\",[0,0],d.get(\"stay\")),document.addEventListener(\"keydown\",this.player.move.bind(this.player)),this.monster1=new a(this.getRandomData(r),this.getRandomData(o)),this.monster2=new a(this.getRandomData(r),this.getRandomData(o)),this.render()}}(document.querySelector(\"#gameCanvas\")).init()}]);","extractedComments":[]}